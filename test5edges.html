<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Simple Polylines</title>
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
    </style>
    <script src="jquery-2.1.1.js"></script>
    <script src="jquery.csv.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>

    <script>

// This example creates a 2-pixel-wide red polyline showing
// the path of William Kingsford Smith's first trans-Pacific flight between
// Oakland, CA, and Brisbane, Australia.

function initialize() {

var filePath = "http://www.prism.gatech.edu/~sravi40/TestApplications/atlSmallGoogleMaps.csv";
xmlhttp = new XMLHttpRequest();
xmlhttp.open("GET",filePath,false);
xmlhttp.send(null);
var fileContent = xmlhttp.responseText;
//var fileArray = fileContent.split(',')
//alert(fileArray);
input = fileContent;
//alert(input);


 /* input = "33.777831077575684,-84.37534125357688,33.77618277853918,-84.3753682905143,33.777930119815785,-84.37651954456774,33.777937449821266,-84.37757343748088,33.77792884167287,-84.37633987987054,33.77941342213869,-84.37634243215719,33.777831077575684,-84.37534125357688,33.77774888921299,-84.37634014499213,33.777826636012506,-84.3751600950691,33.77821604185876,-84.37512953064193,33.77618831164842,-84.37652701735408,33.77775045501804,-84.37651980189813,33.779616510590216,-84.37406394569086,33.779586031493224,-84.37522310381287,33.780589024131785,-84.37756519821461,33.77960160802054,-84.37756607280782,33.77775045501804,-84.37651980189813,33.77784824371338,-84.37757423885691,33.778292655944824,-84.37530347927775,33.77949619293213,-84.3753116856829,33.780589183265676,-84.37774486037914,33.77960013049014,-84.37774573642234,33.77841876636535,-84.3739811351539,33.77821604185876,-84.37512953064193,33.778399579005885,-84.37512455217319,33.77940870925878,-84.37513174882082,33.77859569896668,-84.37401233408438,33.778399579005885,-84.37512455217319,33.779586031493224,-84.37522310381287,33.77941342213869,-84.37634243215719,33.778096199035645,-84.37775281539339,33.77805803422254,-84.37850928902375,33.778095671490966,-84.3775728289385,33.777937449821266,-84.37757343748088,33.77819167072698,-84.37775204077201,33.77823736067492,-84.3784983098532,33.77949619293213,-84.3753116856829,33.77959365145741,-84.37643182060519,33.77942040543892,-84.37774624874909,33.779405433457626,-84.37837673551147,33.777930119815785,-84.37651954456774,33.77950382232666,-84.37652238083399,33.777921515007066,-84.37533286977188,33.77792884167287,-84.37633987987054,33.77960160802054,-84.37756607280782,33.77959365145741,-84.37643182060519,33.778096199035645,-84.37775281539339,33.77784864353605,-84.37775344260987,33.7769055139599,-84.37775821070682,33.77784864353605,-84.37775344260987,33.776904605669,-84.3775785507678,33.77784824371338,-84.37757423885691,33.77960013049014,-84.37774573642234,33.779585045058,-84.37838100069459,33.77618748180861,-84.37634735703557,33.77774888921299,-84.37634014499213,33.777921515007066,-84.37533286977188,33.778292655944824,-84.37530347927775,33.77819167072698,-84.37775204077201,33.77942040543892,-84.37774624874909,33.77943691043029,-84.37405922325445,33.77940870925878,-84.37513174882082,33.77942165761868,-84.37756657862298,33.77950382232666,-84.37652238083399,33.777826636012506,-84.3751600950691,33.77617966347742,-84.37518865528648,33.778095671490966,-84.3775728289385,33.77942165761868,-84.37756657862298";*/
  var result = $.csv.toArrays(input);
  alert(result[0]);
  var elementsArray = input.split(',');
  alert(elementsArray.length);
  
  var mapOptions = {
    zoom: 3,
    center: new google.maps.LatLng(33.7550,-84.3900),
    mapTypeId: google.maps.MapTypeId.TERRAIN
  };

  var map = new google.maps.Map(document.getElementById('map-canvas'),mapOptions);
  
  for(var j = 0; j < elementsArray.length; j = j+4){
    var flightPlanCoordinates = [
      new google.maps.LatLng(result[j],result[j+1]),
      new google.maps.LatLng(result[j+2],result[j+3])
    ];

  var flightPath = new google.maps.Polyline({
    path: flightPlanCoordinates,
    geodesic: true,
    strokeColor: '#FF0000',
    strokeOpacity: 1.0,
    strokeWeight: 2
  });

  flightPath.setMap(map);
  }
}
//}

google.maps.event.addDomListener(window, 'load', initialize);

    </script>

  </head>
  <body>
    <div id="map-canvas"></div>
  </body>
</html>